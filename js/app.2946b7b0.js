(function(e){function t(t){for(var r,c,i=t[0],o=t[1],l=t[2],d=0,h=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(s,c)&&s[c]&&h.push(s[c][0]),s[c]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);u&&u(t);while(h.length)h.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var o=n[i];0!==s[o]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},s={app:0},a=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/revisionhub/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=o;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("85ec"),s=n.n(r);s.a},"087c":function(e,t,n){},"0987":function(e,t,n){e.exports=n.p+"img/rev-hub-icon.c08ac4de.svg"},"0d28":function(e,t,n){},1:function(e,t){},"1a4c":function(e,t,n){"use strict";var r=n("f5ca"),s=n.n(r);s.a},"1d80c":function(e,t,n){},2:function(e,t){},"25db":function(e,t,n){},"2fb9":function(e,t,n){},3:function(e,t){},"300e":function(e,t,n){"use strict";var r=n("972d"),s=n.n(r);s.a},"30db":function(e,t,n){},4:function(e,t){},5:function(e,t){},5181:function(e,t,n){"use strict";var r=n("5bb9"),s=n.n(r);s.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r,s,a=n("2b0e"),c=n("8c4f"),i=n("683f"),o=n("2f62"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-column",attrs:{id:"app"}},[n("navbar",[e._v("RevisionHub")]),n("router-view",{attrs:{id:"router-view"}})],1)},u=[],d=(n("c975"),n("b0c0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{staticClass:"flex-row"},[e.loginOpen?r("login",{on:{close:function(t){e.loginOpen=!1}}}):e._e(),r("div",{staticClass:"navbar-title",on:{click:e.returnHome}},[r("img",{attrs:{src:n("0987"),width:"90",height:"100",alt:"Icone"}}),r("span",{staticClass:"title-text"},[e._t("default")],2)]),r("div",[r("span",{staticClass:"title-text"},[e._t("highlighted-text")],2)]),r("div",{staticClass:"button-group"},[e.isConnected?r("button",{staticClass:"bg-light rounded-button",attrs:{id:"listButton"},on:{click:function(t){return e.$router.push({name:"MyChecklists"})}}},[e._v("Minhas Listas ")]):e._e(),e.isConnected?r("button",{staticClass:"bg-red rounded-button",attrs:{id:"unlogButton"},on:{click:function(t){e.disconnect(),e.returnHome()}}},[e._v(" Logout ")]):e._e(),e.isConnected?e._e():r("button",{staticClass:"bg-light-green rounded-button",attrs:{id:"logButton"},on:{click:function(t){e.loginOpen=!0}}},[e._v(" Login/Registrar ")])])],1)}),h=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("card",{attrs:{height:"login"===e.action?425+40*this.errors.length+"px":655+40*this.errors.length+"px"},on:{close:function(t){return e.$emit("close")}}},["login"===e.action?[n("template",{slot:"title"},[e._v("Login")]),n("template",{slot:"body"},[n("form",{staticClass:"flex-column login-body",attrs:{action:"none"},on:{submit:function(t){return t.preventDefault(),e.loginUser(t)}}},[n("label",{attrs:{for:"email-l"}},[e._v("Email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{required:"",type:"email",id:"email-l",autocomplete:"username"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),n("label",{attrs:{for:"password-l"}},[e._v("Senha")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{required:"",type:"password",id:"password-l",autocomplete:"current-password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("button",{attrs:{type:"submit"}},[e._v("Login")]),n("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){e.action="cadastro"}}},[e._v("Não possui uma conta? Cadastre-se")]),n("div",{staticClass:"error-container"},e._l(e.errors,(function(t,r){return n("p",{key:r},[e._v(" "+e._s(t)+" ")])})),0)])])]:"cadastro"===e.action?[n("template",{slot:"title"},[e._v("Cadastro")]),n("template",{slot:"body"},[n("form",{staticClass:"flex-column login-body",on:{submit:function(t){return t.preventDefault(),e.createUser(t)}}},[n("label",{attrs:{for:"name-c"}},[e._v("Nome")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{required:"",type:"text",id:"name-c"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),n("label",{attrs:{for:"email-c"}},[e._v("Email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{required:"",type:"email",id:"email-c",autocomplete:"username"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),n("label",{attrs:{for:"password-c"}},[e._v("Senha")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{required:"",type:"password",id:"password-c",autocomplete:"new-password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("label",{attrs:{for:"confirmedPassword-c"}},[e._v("Confirme a senha")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmedPassword,expression:"confirmedPassword"}],attrs:{required:"",type:"password",id:"confirmedPassword-c",autocomplete:"new-password"},domProps:{value:e.confirmedPassword},on:{input:function(t){t.target.composing||(e.confirmedPassword=t.target.value)}}}),n("button",{attrs:{type:"submit"}},[e._v("Cadastrar")]),n("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){e.action="login"}}},[e._v("Já possui uma conta? Login")]),n("div",{staticClass:"error-container"},e._l(e.errors,(function(t,r){return n("p",{key:r},[e._v(" "+e._s(t)+" ")])})),0)])])]:e._e()],2)},f=[],m=(n("96cf"),n("1da1")),v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"background"},on:{mousedown:function(t){return t.target!==t.currentTarget?null:e.$emit("close")}}},[r("div",{style:{height:e.height,width:e.width},attrs:{id:"card-container"}},[r("div",{attrs:{id:"card-title"}},[r("img",{attrs:{src:n("0987"),width:"90",height:"100",alt:"Icone"}}),e._v(" RevHub "),r("span",{attrs:{id:"card-reason"}},[e._t("title")],2)]),r("div",{staticClass:"flex-column",attrs:{id:"card-body"}},[e._t("body")],2)])])},k=[],b={name:"Card",props:{height:{required:!1,default:"300px"},width:{required:!1,default:"400px"}}},g=b,x=(n("584b"),n("2877")),C=Object(x["a"])(g,v,k,!1,null,"b34c34ba",null),w=C.exports,_=n("bc3a"),y=n.n(_),$="https://desolate-beach-96822.herokuapp.com/",O={name:"ConnectionMixin",data:function(){return{token:null}},methods:{getToken:function(){return this.$store.state.tokenStore.token},getUserId:function(){return this.$store.state.tokenStore.userId},connect:function(e,t){this.$store.commit("connect",{connectionToken:e,userId:t})},disconnect:function(){this.$store.commit("disconnect")},getAuthenticatedRoute:function(){if(this.isConnected){var e=y.a.create({baseURL:$,headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.getToken()}});return e}throw Error("Erro: Usuário não autenticado")},getUnauthenticatedRoute:function(){var e=y.a.create({baseURL:$,headers:{"Content-Type":"application/json"}});return e},handleResponseError:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.response){n.next=12;break}if(401!==e.response.status){n.next=8;break}return t.disconnect(),n.next=5,t.$alert("Conexão expirada. Faça login novamente.");case 5:return n.next=7,t.$router.push("/");case 7:return n.abrupt("return");case 8:return n.next=10,t.$alert(e.response.data.message);case 10:n.next=14;break;case 12:return n.next=14,t.$alert(e);case 14:case"end":return n.stop()}}),n)})))()}},computed:{isConnected:function(){return this.$store.getters.isConnected}}},E=O,R=Object(x["a"])(E,r,s,!1,null,null,null),j=R.exports,P={name:"Login",mixins:[j],components:{card:w},data:function(){return{action:"login",name:"",email:"",password:"",confirmedPassword:"",errors:[]}},methods:{loginUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.errors=[],!(e.email.length>0&&e.password.length>0)){t.next=23;break}return t.prev=2,n=e.getUnauthenticatedRoute(),t.next=6,n.post("/sessions",{email:e.email,password:e.password});case 6:r=t.sent,t.next=13;break;case 9:return t.prev=9,t.t0=t["catch"](2),t.t0.response?e.errors.push(t.t0.response.data.message):e.errors.push(t.t0),t.abrupt("return");case 13:if(200!==r.status){t.next=20;break}return e.connect(r.data.token,r.data.user.id),t.next=17,e.$alert("Login efetuado com sucesso");case 17:e.$emit("close"),t.next=21;break;case 20:e.errors.push("Usuário ou senha inválido");case 21:t.next=25;break;case 23:0===e.email.length&&e.errors.push("Preencher o e-mail é obrigatório"),0===e.password.length&&e.errors.push("Preencher a senha é obrigatório");case 25:case"end":return t.stop()}}),t,null,[[2,9]])})))()},createUser:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.errors=[],!(e.email.length>0&&e.name.length>0&&e.password.length>0&&e.confirmedPassword.length>0)){t.next=27;break}if(e.password===e.confirmedPassword){t.next=5;break}return e.errors.push("Senha e confirmação não são iguais."),t.abrupt("return");case 5:return t.prev=5,n=e.getUnauthenticatedRoute(),console.log(e.name),t.next=10,n.post("/users",{name:e.name,email:e.email,password:e.password});case 10:r=t.sent,t.next=17;break;case 13:return t.prev=13,t.t0=t["catch"](5),t.t0.response?e.errors.push(t.t0.response.data.message):e.errors.push(t.t0),t.abrupt("return");case 17:if(200!==r.status){t.next=24;break}return e.connect(r.data.token,r.data.id),t.next=21,e.$alert("Cadastro feito com sucesso.");case 21:e.action="login",t.next=25;break;case 24:e.errors.push("Erro ao criar a conta");case 25:t.next=29;break;case 27:0===e.email.length&&e.errors.push("Preencher o e-mail é obrigatório"),0===e.password.length&&e.errors.push("Preencher a senha é obrigatório");case 29:case"end":return t.stop()}}),t,null,[[5,13]])})))()}}},D=P,S=(n("5181"),Object(x["a"])(D,p,f,!1,null,"b7f8f784",null)),I=S.exports,L={name:"Navbar",mixins:[j],components:{login:I},data:function(){return{loginOpen:!1}},methods:{returnHome:function(){this.$router.push("/")}}},q=L,U=(n("af1e"),Object(x["a"])(q,d,h,!1,null,"96376f96",null)),A=U.exports;n("becf");var N={name:"App",mixins:[j],components:{navbar:A},watch:{$route:{handler:function(e){var t=["MyChecklists","Create"];t.indexOf(e.name)>=0&&!this.isConnected&&(this.$router.push("/"),this.$alert("Você deve estar logado para acessar essa rota"))},immediate:!0}}},V=N,T=(n("034f"),Object(x["a"])(V,l,u,!1,null,null,null)),M=T.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-container flex-column fill-screen"},[e._m(0),n("div",{staticClass:"flex-row flex-grow",attrs:{id:"select-container"}},[n("checklist-opcoes",{staticClass:"select-box flex-grow",attrs:{options:e.options,values:e.values,likes:e.likes,label:"Escolha uma checklist"},model:{value:e.selectedChecklist,callback:function(t){e.selectedChecklist=t},expression:"selectedChecklist"}}),n("button",{staticClass:"bg-light flex-shrink",class:this.selectedChecklist?"bg-light-green":"",attrs:{disabled:!this.selectedChecklist},on:{click:e.selectChecklist}},[e._v("Go ")])],1)])},F=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-shrink",attrs:{id:"text-box"}},[n("div",{attrs:{id:"main-text"}},[e._v("Descubra Checklists")]),n("div",{attrs:{id:"secondary-text"}},[e._v(" Uma aplicação web que te ajudará a achar a melhor lista de inspeção. ")])])}],B=(n("7db0"),n("d81d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.close,expression:"close"}],staticClass:"flex-column",attrs:{id:"select-box"}},[n("div",{staticClass:"flex-row flex-shrink",attrs:{id:"input-box"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentLabel,expression:"currentLabel"}],staticClass:"flex-grow",style:e.currentLabel===e.label?"color:var(--light)":"",attrs:{id:"select-label"},domProps:{value:e.currentLabel},on:{click:function(t){return t.target!==t.currentTarget?null:e.click()},input:function(t){t.target.composing||(e.currentLabel=t.target.value)}}}),n("i",{staticClass:"fas fa-caret-down flex-shrink",attrs:{id:"caret-icon"},on:{click:function(t){return t.target!==t.currentTarget?null:e.click()}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"flex-grow",attrs:{id:"select-options"}},e._l(e.currentOptions,(function(t,r){return n("checklistItem",{directives:[{name:"show",rawName:"v-show",value:e.currentOptions.length>0,expression:"currentOptions.length>0"}],key:r,nativeOn:{click:function(t){return e.clickOption(e.values[r])}},scopedSlots:e._u([{key:"label",fn:function(){return[n("span",{attrs:{id:"option-title"}},[e._v(e._s(t))]),n("span",{attrs:{id:"option-likes"}},[e._v(" Likes:"+e._s(e.likes[r])+" "),e.deleting?n("i",{staticClass:"far fa-trash-alt",staticStyle:{color:"black","margin-left":"10px"},on:{click:function(t){return t.preventDefault(),e.$emit("delete",e.values[r])}}}):e._e()])]},proxy:!0}],null,!0)})})),1)])}),z=[],G=(n("4de4"),n("c740"),n("caad"),n("d3b7"),n("2532"),n("ddb0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"option-box"}},[n("span",{attrs:{id:"option-label"}},[e._t("label")],2)])}),J=[],K={name:"checklistItem"},Q=K,W=(n("ce38"),Object(x["a"])(Q,G,J,!1,null,"229af0f4",null)),X=W.exports,Y={name:"checklistOpcoes",components:{checklistItem:X},props:{label:String,options:{required:!0,type:Array},values:{required:!0,type:Array},likes:{required:!0,type:Array},value:{required:!0},deleting:{required:!1,default:function(){return!1},type:Boolean}},data:function(){return{isOpen:!1,searchValue:""}},methods:{click:function(){this.options.length>0&&(this.isOpen=!this.isOpen)},close:function(){this.isOpen=!1},clickOption:function(e){this.close(),this.$emit("input",e)}},computed:{currentLabel:{get:function(){var e=this;if(this.isOpen)return this.searchValue;if(null!==this.value){var t=this.values.findIndex((function(t){return t===e.value}));return this.options[t]}return this.label},set:function(e){this.searchValue=e}},currentOptions:function(){var e=this;return this.searchValue?this.options.filter((function(t){return t.toLowerCase().includes(e.searchValue.toLowerCase())})):this.options}}},Z=Y,ee=(n("300e"),Object(x["a"])(Z,B,z,!1,null,"4774f092",null)),te=ee.exports,ne={name:"ChecklistChoice",components:{"checklist-opcoes":te},mixins:[j],data:function(){return{checklists:[],selectedChecklist:null}},methods:{selectChecklist:function(){var e=this;null!==this.selectedChecklist&&this.$router.push({name:"View",params:{checklist:this.checklists.find((function(t){return t.id===e.selectedChecklist}))}})}},computed:{options:function(){return this.checklists.map((function(e){return e.title}))},likes:function(){return this.checklists.map((function(e){return e.likes}))},values:function(){return this.checklists.map((function(e){return e.id}))}},mounted:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.getUnauthenticatedRoute(),t.prev=1,t.next=4,n.get("/checklists");case 4:r=t.sent,t.next=12;break;case 7:return t.prev=7,t.t0=t["catch"](1),t.next=11,e.handleResponseError(t.t0);case 11:return t.abrupt("return");case 12:e.checklists=r.data.sort((function(e,t){return t.likes-e.likes}))||[];case 13:case"end":return t.stop()}}),t,null,[[1,7]])})))()}},re=ne,se=(n("8cd2"),Object(x["a"])(re,H,F,!1,null,"4271f546",null)),ae=se.exports,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-column"},[n("div",{staticClass:"checklist-info"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checklist.title,expression:"checklist.title"}],staticClass:"checklist-title",attrs:{id:"title-input"},domProps:{value:e.checklist.title},on:{input:[function(t){t.target.composing||e.$set(e.checklist,"title",t.target.value)},function(t){e.titleEdited=!0}]}})]),n("div",{staticClass:"flex-grow bg-white flex-column",attrs:{id:"page-body"}},[n("div",{staticClass:"flex-row",attrs:{id:"button-group"}},[n("i",{staticClass:"fas fa-plus-circle",attrs:{id:"add-button"},on:{click:e.addCheck}}),n("button",{staticClass:"rounded-button bg-light-green flex-shrink",attrs:{id:"save-button"},on:{click:e.saveChecklist}},[e._v("Save ")])]),n("transition-group",{staticClass:"flex-grow flex-column",attrs:{name:"checklist",id:"check-container",tag:"div"}},e._l(e.checks,(function(t,r){return n("check-edit",{key:e.checks[r].id,staticClass:"checklist-item",on:{remove:function(t){return e.removeCheck(r)},input:function(t){return e.editCheck(r)}},model:{value:e.checks[r].text,callback:function(t){e.$set(e.checks[r],"text",t)},expression:"checks[index].text"}})})),1)],1)])},ie=[],oe=(n("a434"),n("b85c")),le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-row",attrs:{id:"check-body"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.textValue,expression:"textValue"}],staticClass:"flex-grow",attrs:{id:"check-text"},domProps:{value:e.textValue},on:{input:function(t){t.target.composing||(e.textValue=t.target.value)}}}),e._v(" "),n("div",{staticClass:"flex-row",attrs:{id:"delete-icon"},on:{click:function(t){return e.$emit("remove")}}},[n("i",{staticClass:"fas fa-times"})])])},ue=[],de={name:"CheckEdit",props:{value:String},computed:{textValue:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},he=de,pe=(n("6edf"),Object(x["a"])(he,le,ue,!1,null,"1b3ae71a",null)),fe=pe.exports,me={name:"ChecklistCreate",mixins:[j],components:{"check-edit":fe},props:{checklist:{require:!1,type:Object,default:function(){return{title:"Titulo da sua checklist",id:-1}}}},data:function(){return{checks:[],authenticatedConnection:null,added:[],edited:[],removed:[],titleEdited:!1}},methods:{addCheck:function(){var e={text:"",id:this.checks.length,checklist_id:this.checklist.id};this.checks.push(e),this.added.push(e)},editCheck:function(e){var t=this.checks[e];this.added.indexOf(t)>=0||this.edited.indexOf(t)>=0||this.edited.push(t)},removeCheck:function(e){var t=this.checks.splice(e,1)[0],n=this.added.indexOf(t);if(n>=0)this.added.splice(n,1);else{var r=this.edited.indexOf(t);r>=0&&this.edited.splice(r,1),this.removed.push(t)}},saveChecklist:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r,s,a,c,i,o,l,u,d,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(-1!==e.checklist.id){t.next=13;break}return t.prev=1,t.next=4,e.authenticatedConnection.post("/checklists",{title:e.checklist.title});case 4:n=t.sent,t.next=12;break;case 7:return t.prev=7,t.t0=t["catch"](1),t.next=11,e.handleResponseError(t.t0);case 11:return t.abrupt("return");case 12:e.checklist.id=n.data.id;case 13:r=Object(oe["a"])(e.added),t.prev=14,r.s();case 16:if((s=r.n()).done){t.next=33;break}return a=s.value,c=void 0,t.prev=19,t.next=22,e.authenticatedConnection.post("/checklists/"+e.checklist.id+"/checks/",{text:a.text});case 22:c=t.sent,t.next=30;break;case 25:return t.prev=25,t.t1=t["catch"](19),t.next=29,e.handleResponseError(t.t1);case 29:return t.abrupt("return");case 30:a.id=c.data["id"];case 31:t.next=16;break;case 33:t.next=38;break;case 35:t.prev=35,t.t2=t["catch"](14),r.e(t.t2);case 38:return t.prev=38,r.f(),t.finish(38);case 41:e.added=[],i=Object(oe["a"])(e.removed),t.prev=43,i.s();case 45:if((o=i.n()).done){t.next=59;break}return l=o.value,t.prev=47,t.next=50,e.authenticatedConnection.delete("/checklists/"+e.checklist.id+"/checks/"+l.id);case 50:t.next=57;break;case 52:return t.prev=52,t.t3=t["catch"](47),t.next=56,e.handleResponseError(t.t3);case 56:return t.abrupt("return");case 57:t.next=45;break;case 59:t.next=64;break;case 61:t.prev=61,t.t4=t["catch"](43),i.e(t.t4);case 64:return t.prev=64,i.f(),t.finish(64);case 67:e.removed=[],u=Object(oe["a"])(e.edited),t.prev=69,u.s();case 71:if((d=u.n()).done){t.next=85;break}return h=d.value,t.prev=73,t.next=76,e.authenticatedConnection.put("/checklists/"+e.checklist.id+"/checks/"+h.id,{text:h.text});case 76:t.next=83;break;case 78:return t.prev=78,t.t5=t["catch"](73),t.next=82,e.handleResponseError(t.t5);case 82:return t.abrupt("return");case 83:t.next=71;break;case 85:t.next=90;break;case 87:t.prev=87,t.t6=t["catch"](69),u.e(t.t6);case 90:return t.prev=90,u.f(),t.finish(90);case 93:if(e.edited=[],!e.titleEdited){t.next=105;break}return t.prev=95,t.next=98,e.authenticatedConnection.put("/checklists/"+e.checklist.id,{title:e.checklist.title});case 98:t.next=105;break;case 100:return t.prev=100,t.t7=t["catch"](95),t.next=104,e.handleResponseError(t.t7);case 104:return t.abrupt("return");case 105:return e.titleEdited=!1,t.next=108,e.$alert("Salvo com sucesso");case 108:case"end":return t.stop()}}),t,null,[[1,7],[14,35,38,41],[19,25],[43,61,64,67],[47,52],[69,87,90,93],[73,78],[95,100]])})))()}},mounted:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,n=e.getAuthenticatedRoute(),t.next=9;break;case 4:return t.prev=4,t.t0=t["catch"](0),t.next=8,e.$router.push("/");case 8:return t.abrupt("return");case 9:if(e.authenticatedConnection=n,-1===e.checklist.id){t.next=30;break}return t.prev=11,t.next=14,n.get("/checklists/"+e.checklist.id+"/checks");case 14:r=t.sent,t.next=29;break;case 17:if(t.prev=17,t.t1=t["catch"](11),!t.t1.response){t.next=24;break}return t.next=22,e.$alert(t.t1.response.data.message);case 22:t.next=26;break;case 24:return t.next=26,e.$alert(t.t1);case 26:return t.next=28,e.$router.push("/");case 28:return t.abrupt("return");case 29:e.checks=r.data;case 30:case"end":return t.stop()}}),t,null,[[0,4],[11,17]])})))()}},ve=me,ke=(n("6f00"),Object(x["a"])(ve,ce,ie,!1,null,"37e5607e",null)),be=ke.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-column"},[e.picking?n("upload-card",{on:{submit:function(t){return e.selectDocument(t)},close:function(t){e.picking=!1}}}):e._e(),e.exporting?n("export-card",{on:{export:function(t){return e.exportDocument(t)},close:function(t){e.exporting=!1}}}):e._e(),e.liking?n("like-card",{on:{like:function(t){return e.endReview(!0)},close:function(t){return e.endReview(!1)},cancel:function(t){e.liking=!1}}}):e._e(),n("div",{staticClass:"flex-column flex-shrink checklist-info"},[n("span",{staticClass:"checklist-title"},[e._v(e._s(e.checklist.title))]),n("span",{attrs:{id:"checklist-description"}},[e._v("Likes: "+e._s(e.checklist.likes))])]),n("div",{staticClass:"flex-column flex-grow",attrs:{id:"checklist-container"}},[n("div",{staticClass:"flex-row flex-shrink",attrs:{id:"checklist-actions"}},[n("i",{staticClass:"fas fa-plus-circle",on:{click:function(t){e.picking=!0}}}),n("div",[n("button",{staticClass:"bg-blue",on:{click:function(t){e.exporting=!0}}},[e._v("Export")]),n("button",{staticClass:"bg-blue",on:{click:function(t){e.liking=!0}}},[e._v("Finalizar")])])]),n("div",{ref:"page",staticClass:"flex-row flex-grow",attrs:{id:"checklist-body"}},[n("div",{attrs:{id:"checklist-document"}},[e.selectedDocument?n("pdf",{ref:"document",attrs:{src:e.selectedDocument,page:e.currentPage},on:{"num-pages":function(t){e.maxPage=t},"page-loaded":e.setPageHeight}}):e._e(),e.selectedDocument?n("i",{staticClass:"fas fa-arrow-left",on:{click:function(t){e.pageIndex--}}}):e._e(),e.selectedDocument?n("i",{staticClass:"fas fa-arrow-right",on:{click:function(t){e.pageIndex++}}}):e._e()],1),n("div",{attrs:{id:"checklist-checks"}},[n("checklist",{attrs:{checks:e.values},on:{checked:function(t){e.checked[t.index]=t.state}}})],1)])]),e.generating?n("html2pdf",{ref:"html2pdf",attrs:{"preview-modal":!1,"enable-download":!0,filename:"Relatorio "+e.checklist.title,"pdf-format":"a4","paginate-elements-by-height":2e3,"pdf-content-width":"800px"},on:{hasGenerated:function(t){e.generating=!1}}},[n("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[n("print",{attrs:{title:e.checklist.title,checks:e.values,checked:e.checked}})],1)]):e._e()],1)},xe=[],Ce=(n("25f0"),n("858e")),we=n("6480"),_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("card",{on:{close:function(t){return e.$emit("close")}}},[n("template",{slot:"title"},[e._v("Upload")]),n("template",{slot:"body"},[n("span",[e._v("Selecione um arquivo pdf:")]),n("picker",{on:{change:function(t){e.selectedDocument=t}}}),n("div",{staticClass:"flex-row",attrs:{id:"button-group"}},[n("button",{staticClass:"bg-light-green",attrs:{id:"button-ok"},on:{click:e.submit}},[e._v("Ok")]),n("button",{staticClass:"bg-red",attrs:{id:"button-cancel"},on:{click:function(t){return e.$emit("close")}}},[e._v("Cancelar")])])],1)],2)},ye=[],$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-row",attrs:{id:"picker-container"}},[n("span",[e._v(e._s(e.pickedDocument?e.pickedDocument.name:""))]),e._m(0),n("input",{staticStyle:{display:"none"},attrs:{id:"file-upload",type:"file"},on:{change:function(t){return e.selectDocument(t)}}})])},Oe=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"file-upload"}},[n("i",{staticClass:"far fa-folder-open"})])}],Ee={name:"DocumentUploadPicker",data:function(){return{pickedDocument:null}},methods:{selectDocument:function(e){var t=e.target.files;t&&t.length&&("application/pdf"!==t[0].type?alert("O tipo de arquivo deve ser PDF"):(this.pickedDocument=t[0],this.$emit("change",t[0])))}}},Re=Ee,je=(n("1a4c"),Object(x["a"])(Re,$e,Oe,!1,null,"4748fc0c",null)),Pe=je.exports,De={name:"DocumentUploadCard",components:{picker:Pe,card:w},data:function(){return{selectedDocument:null}},methods:{submit:function(){this.selectedDocument?(this.$emit("submit",this.selectedDocument),this.$emit("close")):alert("Selecione um documento PDF")}}},Se=De,Ie=(n("b050"),Object(x["a"])(Se,_e,ye,!1,null,"6e434a7e",null)),Le=Ie.exports,qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("card",{on:{close:function(t){return e.$emit("close")}}},[n("template",{slot:"title"},[e._v("Exportar")]),n("template",{slot:"body"},[n("span",[e._v("Deseja exportar o documento?")]),n("div",{staticClass:"flex-row",attrs:{id:"button-group"}},[n("button",{staticClass:"bg-light-green",attrs:{id:"button-ok"},on:{click:function(t){return e.$emit("export")}}},[e._v("Exportar")]),n("button",{staticClass:"bg-red",attrs:{id:"button-cancel"},on:{click:function(t){return e.$emit("close")}}},[e._v("Cancelar")])])])],2)},Ue=[],Ae={name:"DocumentExportCard",components:{card:w}},Ne=Ae,Ve=(n("8267"),Object(x["a"])(Ne,qe,Ue,!1,null,"537d0e21",null)),Te=Ve.exports,Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("card",{on:{close:function(t){return e.$emit("cancel")}}},[n("template",{slot:"title"},[e._v("Finalizar")]),n("template",{slot:"body"},[n("span",[e._v("Você deseja dar sua opinião sobre essa checklist?")]),n("div",{staticClass:"flex-row",attrs:{id:"button-group"}},[n("button",{staticClass:"bg-light-green",attrs:{id:"button-ok"},on:{click:function(t){return e.$emit("like")}}},[e._v("Like")]),n("button",{staticClass:"bg-light",attrs:{id:"button-continue"},on:{click:function(t){return e.$emit("close")}}},[e._v("Continuar")]),n("button",{staticClass:"bg-red",attrs:{id:"button-cancel"},on:{click:function(t){return e.$emit("cancel")}}},[e._v("Cancelar")])])])],2)},He=[],Fe={name:"DocumentLikeCard",components:{card:w}},Be=Fe,ze=(n("5f37"),Object(x["a"])(Be,Me,He,!1,null,"a63e9de0",null)),Ge=ze.exports,Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"checklist"}},e._l(e.checks,(function(t,r){return n("check",{key:r,attrs:{index:r+1},on:{checked:function(t){return e.$emit("checked",{index:r,state:t})}}},[e._v(e._s(t)+" ")])})),1)},Ke=[],Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-row",attrs:{id:"check-container"}},[n("div",{staticClass:"flex-row flex-grow",attrs:{id:"check-body"}},[n("span",{staticClass:"flex-shrink",attrs:{id:"check-index"}},[e._v(" "+e._s(e.index)+" ")]),n("span",{attrs:{id:"check-content"}},[e._t("default")],2)]),n("div",{attrs:{id:"check-state"}},[n("label",{attrs:{for:"checkbox"+e.index}},[e.state?n("i",{staticClass:"far fa-check-square"}):e._e(),e.state?e._e():n("i",{staticClass:"far fa-square"})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.state,expression:"state"}],attrs:{id:"checkbox"+e.index,type:"checkbox"},domProps:{checked:Array.isArray(e.state)?e._i(e.state,null)>-1:e.state},on:{change:[function(t){var n=e.state,r=t.target,s=!!r.checked;if(Array.isArray(n)){var a=null,c=e._i(n,a);r.checked?c<0&&(e.state=n.concat([a])):c>-1&&(e.state=n.slice(0,c).concat(n.slice(c+1)))}else e.state=s},function(t){return e.$emit("checked",e.state)}]}})])])},We=[],Xe=(n("a9e3"),{name:"Check",props:{index:Number},data:function(){return{state:!1}}}),Ye=Xe,Ze=(n("c895"),Object(x["a"])(Ye,Qe,We,!1,null,"7c6b0147",null)),et=Ze.exports,tt={name:"Checklist",components:{check:et},props:{checks:Array}},nt=tt,rt=(n("b286"),Object(x["a"])(nt,Je,Ke,!1,null,"a0a9297e",null)),st=rt.exports,at=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("RevisionHub")]),n("h1",[e._v("Relatório da Checklist - "+e._s(e.title))]),n("table",[e._m(0),e._l(e.checks,(function(t,r){return n("tr",{key:r},[n("td",{attrs:{colspan:"1"}},[e._v(" "+e._s(r+1)+" ")]),n("td",{attrs:{colspan:"6"}},[e._v(" "+e._s(t)+" ")]),n("td",{attrs:{colspan:"1"}},[e._v(" "+e._s(e.checked[r]?"☑":"☐")+" ")])])}))],2),n("p",[e._v("Gerado em "+e._s((new Date).toLocaleDateString("pt-BR")))])])},ct=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",[n("th",[e._v(" Index ")]),n("th",{attrs:{colspan:"6"}},[e._v(" Check ")]),n("th",{attrs:{colspan:"1"}},[e._v(" Valor ")])])}],it={name:"ChecklistPrint",props:{title:String,checks:Array,checked:Array}},ot=it,lt=(n("f6cf"),Object(x["a"])(ot,at,ct,!1,null,"c29a29e2",null)),ut=lt.exports,dt={name:"ChecklistView",mixins:[j],components:{pdf:Ce["a"],html2pdf:we["a"],print:ut,"upload-card":Le,"export-card":Te,"like-card":Ge,checklist:st},props:{checklist:{require:!0,type:Object}},data:function(){return{checks:[],checked:[],picking:!1,exporting:!1,liking:!1,generating:!1,selectedDocument:null,pageIndex:0,maxPage:null}},methods:{selectDocument:function(e){var t=this,n=new FileReader;n.onload=function(){t.selectedDocument=n.result,t.pageIndex=0},n.readAsDataURL(e)},setPageHeight:function(){var e=this.$refs.page,t=this.$refs.document;e&&t&&(e.style.height=(t.$el.clientHeight+50).toString()+"px")},exportDocument:function(){var e=this;this.generating=!0,this.$nextTick((function(){e.$refs.html2pdf.generatePdf(),e.exporting=!1,e.$alert("Seu PDF está sendo gerado")}))},endReview:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e){n.next=12;break}return r=t.getUnauthenticatedRoute(),n.prev=2,n.next=5,r.patch("checklists/"+t.checklist.id);case 5:n.next=12;break;case 7:return n.prev=7,n.t0=n["catch"](2),n.next=11,t.handleResponseError(n.t0);case 11:return n.abrupt("return");case 12:return n.next=14,t.$router.push("/");case 14:case"end":return n.stop()}}),n,null,[[2,7]])})))()}},computed:{currentPage:function(){return this.pageIndex>=0?this.pageIndex%this.maxPage+1:this.maxPage- -this.pageIndex%this.maxPage},values:function(){return this.checks.map((function(e){return e.text}))}},mounted:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return null===e.checklist&&e.$router.push("Choice"),window.addEventListener("resize",e.setPageHeight),n=e.getUnauthenticatedRoute(),t.prev=3,t.next=6,n.get("/checklists/"+e.checklist.id+"/checks/");case 6:r=t.sent,t.next=14;break;case 9:return t.prev=9,t.t0=t["catch"](3),t.next=13,e.handleResponseError(t.t0);case 13:return t.abrupt("return");case 14:e.checks=r.data||[],e.checked=e.checks.map((function(){return!1}));case 16:case"end":return t.stop()}}),t,null,[[3,9]])})))()}},ht=dt,pt=(n("de0e"),Object(x["a"])(ht,ge,xe,!1,null,"6a4340b6",null)),ft=pt.exports,mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-column fill-screen"},[e._m(0),n("div",{staticClass:"flex-grow bg-white flex-column",attrs:{id:"page-body"}},[n("button",{staticClass:"bg-light-green rounded-button",on:{click:e.createChecklist}},[e._v("Create")]),n("div",{staticClass:"flex-column flex-grow",attrs:{id:"body-container"}},[n("span",{staticClass:"flex-shrink",attrs:{id:"select-label"}},[e._v("Administre suas checklists aqui")]),n("div",{staticClass:"flex-row flex-shrink",attrs:{id:"select-container"}},[n("checklist-options",{staticClass:"select-box",attrs:{options:e.options,values:e.values,likes:e.likes,deleting:!0,label:"Escolha uma checklist"},on:{delete:function(t){return e.deleteChecklist(t)}},model:{value:e.selectedChecklist,callback:function(t){e.selectedChecklist=t},expression:"selectedChecklist"}}),n("button",{staticClass:"bg-white rounded-button",class:null!=e.selectedChecklist?"enabled-edit":"disabled-edit",on:{click:e.editChecklist}},[e._v(" Editar ")])],1)])])])},vt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"checklist-info flex-shrink"},[n("span",{staticClass:"checklist-title"},[e._v(" Minhas Checklists ")])])}],kt={name:"ChecklistMyChecklists",components:{"checklist-options":te},mixins:[j],data:function(){return{selectedChecklist:null,checklists:[],connection:null}},methods:{editChecklist:function(){var e=this;null!=this.selectedChecklist&&this.$router.push({name:"Edit",params:{checklist:this.checklists.find((function(t){return t.id==e.selectedChecklist}))}})},createChecklist:function(){this.$router.push({name:"Create"})},deleteChecklist:function(e){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.checklists.find((function(t){return t.id===e})),!r){n.next=14;break}return n.prev=2,n.next=5,t.connection.delete("/checklists/"+r.id);case 5:n.next=12;break;case 7:return n.prev=7,n.t0=n["catch"](2),n.next=11,t.handleResponseError(n.t0);case 11:return n.abrupt("return");case 12:t.checklists.splice(t.checklists.findIndex((function(t){return t.id===e})),1),t.$alert("Removido com sucesso");case 14:case"end":return n.stop()}}),n,null,[[2,7]])})))()}},computed:{options:function(){return this.checklists.map((function(e){return e.title}))},likes:function(){return this.checklists.map((function(e){return e.likes}))},values:function(){return this.checklists.map((function(e){return e.id}))}},mounted:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,e.connection=e.getAuthenticatedRoute(),t.next=11;break;case 4:return t.prev=4,t.t0=t["catch"](0),t.next=8,e.$alert("Conexão inválida. Faça login novamente.");case 8:return t.next=10,e.$router.push("/");case 10:return t.abrupt("return");case 11:return t.prev=11,t.next=14,e.connection.get("/checklists/"+e.getUserId());case 14:n=t.sent,t.next=24;break;case 17:return t.prev=17,t.t1=t["catch"](11),t.next=21,e.handleResponseError(t.t1);case 21:return t.next=23,e.$router.push("/");case 23:return t.abrupt("return");case 24:e.checklists=n.data;case 25:case"end":return t.stop()}}),t,null,[[0,4],[11,17]])})))()}},bt=kt,gt=(n("57af"),Object(x["a"])(bt,mt,vt,!1,null,"10f2d9fe",null)),xt=gt.exports,Ct={bind:function(e,t,n){var r=n.context,s=t.value;e.clickOutsideEvent=function(t){if(e!==t.target&&!e.contains(t.target))return s.call(r,t)},document.body.addEventListener("click",e.clickOutsideEvent)},unbind:function(e){document.body.removeEventListener("click",e.clickOutsideEvent)}},wt={state:function(){return{token:localStorage.getItem("token"),userId:localStorage.getItem("userId")}},mutations:{connect:function(e,t){var n=t.connectionToken,r=t.userId;e.token=n,e.userId=r,localStorage.setItem("token",n),localStorage.setItem("userId",r)},disconnect:function(e){e.token=null,e.userId=null,localStorage.removeItem("token"),localStorage.removeItem("userId")}},getters:{isConnected:function(e){return null!==e.token}}},_t=wt,yt=[{path:"/",alias:"/choose",name:"Choice",component:ae},{path:"/mychecklists",name:"MyChecklists",component:xt},{path:"/create/:checklist",name:"Edit",component:be,props:!0},{path:"/create/",name:"Create",component:be},{path:"/view/:checklist",name:"View",component:ft,props:!0}],$t=new c["a"]({base:"/revisionhub",routes:yt,mode:"history"});a["a"].use(c["a"]),a["a"].use(i["a"]),a["a"].use(o["a"]),a["a"].directive("click-outside",Ct);var Ot=new o["a"].Store({modules:{tokenStore:_t}});new a["a"]({router:$t,render:function(e){return e(M)},store:Ot}).$mount("#app")},"57af":function(e,t,n){"use strict";var r=n("2fb9"),s=n.n(r);s.a},"584b":function(e,t,n){"use strict";var r=n("aa44"),s=n.n(r);s.a},"5bb9":function(e,t,n){},"5f37":function(e,t,n){"use strict";var r=n("25db"),s=n.n(r);s.a},"6edf":function(e,t,n){"use strict";var r=n("1d80c"),s=n.n(r);s.a},"6f00":function(e,t,n){"use strict";var r=n("087c"),s=n.n(r);s.a},8267:function(e,t,n){"use strict";var r=n("bb39"),s=n.n(r);s.a},"85ec":function(e,t,n){},"8cd2":function(e,t,n){"use strict";var r=n("d087"),s=n.n(r);s.a},"972d":function(e,t,n){},aa44:function(e,t,n){},af1e:function(e,t,n){"use strict";var r=n("30db"),s=n.n(r);s.a},b050:function(e,t,n){"use strict";var r=n("ebfd"),s=n.n(r);s.a},b286:function(e,t,n){"use strict";var r=n("d5dc"),s=n.n(r);s.a},b784:function(e,t,n){},bb39:function(e,t,n){},c895:function(e,t,n){"use strict";var r=n("d0b6"),s=n.n(r);s.a},ce38:function(e,t,n){"use strict";var r=n("0d28"),s=n.n(r);s.a},d087:function(e,t,n){},d0b6:function(e,t,n){},d5dc:function(e,t,n){},de0e:function(e,t,n){"use strict";var r=n("b784"),s=n.n(r);s.a},ebfd:function(e,t,n){},f5ca:function(e,t,n){},f6cf:function(e,t,n){"use strict";var r=n("f73c"),s=n.n(r);s.a},f73c:function(e,t,n){}});
//# sourceMappingURL=app.2946b7b0.js.map